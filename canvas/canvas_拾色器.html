<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>canvas拾色器demo</title>
	</head>
	<body>
		<div class="canvasContainer">
			<canvas id="canvas_box" width="400" height="400"></canvas> 
		</div>
		<div class="color">
			鼠标所在当前点的颜色
			<div id="showColor"></div>
		</div>
		<script>
			var img = new Image();
			img.src ="canvas_1.png";
			
			var oc = document.getElementById('canvas_box');
			var content = oc.getContext('2d');
			
			img.onload = function() {
				content.drawImage(img,0,0);
			}
			
			var color = document.getElementById('showColor');
			
			function pick(e) {
				var x = e.layerX;
				var y = e.layerY;
				var pixels = content.getImageData(x,y,1,1);
				var data = pixels.data;
				var rgba = 'rgba(' + data[0] +',' + data[1] + ',' + data[2] + ',' + data[3] +')';
				color.style.backgroundColor = rgba;
				color.innerHTML = rgba;
			}
			
			oc.addEventListener('mousemove',pick);
		</script>
	</body>
</html>
